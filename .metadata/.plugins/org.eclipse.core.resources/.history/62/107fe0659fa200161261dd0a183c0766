package twy.burton.core.library;

import java.util.ArrayList;
import java.util.List;

import twy.burton.core.service.Service;

public abstract class PasswordLibrary {

	protected String libraryName;
	protected List<Service> services = new ArrayList<Service>();
	
	public PasswordLibrary(){
		
	}
	
	// Rewrite Library To Store
	public abstract boolean write();
	// Read Library From Store
	private abstract boolean read();
	// Unlock The Library
	public abstract boolean unlock();
	// Lock The Library
	public void lock(){
		services = new ArrayList<Service>();
	}
	
	// Functions for reading and writing library data to the libariesfile
	public abstract byte[] getLibraryStoreString();
	public abstract void createLibraryFromStoreString( byte[] storeString );
	
	
	public abstract String getListIdentifier();
	
	public void setLibraryName( String libraryName ){
		this.libraryName = libraryName;
	}
	
	public String getLibraryName(){
		return libraryName;
	}
	
	
	// ============================================
	//		 Functions for accessing services
	// ============================================
	
	// Add a service to the service list
	public void addService( Service s0 ){
		services.add(s0);
	}
	
	// Return a list of services which have a name containing the name parameter
	public List<Service> getServiceByName( String name ){
		List<Service> matches = new ArrayList<Service>();
		for( int i = 0 ; i < services.size(); i++ ){
			if( services.get(i).getName().contains( name.toLowerCase() )){
				matches.add(services.get(i));
			}
		}
		return matches;
	}
	
}

